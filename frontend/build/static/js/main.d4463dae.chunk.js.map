{"version":3,"sources":["constants/diaryConstants.js","constants/userConstants.js","store.js","reducers/diaryReducers.js","reducers/userReducers.js","actions/userActions.js","components/Header.js","components/Footer.js","components/Diary.js","components/Loader.js","screens/HomeScreen.js","actions/diaryActions.js","screens/DiaryScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","screens/NewDiaryScreen.js","App.js","index.js"],"names":["DIARY_LIST_REQUEST","DIARY_LIST_SUCCESS","DIARY_LIST_FAIL","DIARY_DETAILS_REQUEST","DIARY_DETAILS_SUCCESS","DIARY_DETAILS_FAIL","ADD_NEW_DIARY_REQUEST","ADD_NEW_DIARY_SUCCESS","ADD_NEW_DIARY_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_ALL_REQUEST","USER_ALL_SUCCESS","USER_ALL_FAIL","reducer","combineReducers","diaryList","state","diaries","action","type","loading","payload","error","diaryDetails","diary","addNewDiary","diaryInfo","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","success","usersAll","usersInfo","initialState","localStorage","getItem","JSON","parse","middleWare","thunk","store","createStore","composeWithDevTools","applyMiddleware","logout","dispatch","removeItem","getUserDetails","id","getState","a","config","headers","Authorization","token","axios","get","data","message","response","getUsersAll","Header","useDispatch","useSelector","Navbar","bg","variant","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","className","Link","href","class","NavDropdown","title","name","Item","onClick","Footer","Row","Col","connect","_content","content","length","substr","author","filter","_id","time","createdAt","split","Card","Body","Title","Subtitle","Text","Loader","Spinner","animation","role","style","width","height","margin","display","Homescreen","reverse","useEffect","console","log","map","sm","md","lg","xl","DiaryScreen","match","errorUsersAll","params","xs","FormContainer","children","LoginScreen","location","history","useState","email","setEmail","password","setPassword","redirect","search","push","Form","onSubmit","e","preventDefault","post","setItem","stringify","login","Group","controlId","Label","Control","placeholder","value","onChange","target","Button","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","put","updateUserProfile","NewDiaryScreen","setTitle","setContent","errorUserDetails","loadingAddDiary","errorAddDiary","addDiaryAction","as","rows","App","path","component","HomeScreen","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4463dae.chunk.js","sourcesContent":["export const DIARY_LIST_REQUEST = 'DIARY_LIST_REQUEST';\r\nexport const DIARY_LIST_SUCCESS = 'DIARY_LIST_SUCCESS';\r\nexport const DIARY_LIST_FAIL = 'DIARY_LIST_FAIL';\r\n\r\nexport const DIARY_DETAILS_REQUEST = 'DIARY_DETAILS_REQUEST';\r\nexport const DIARY_DETAILS_SUCCESS = 'DIARY_DETAILS_SUCCESS';\r\nexport const DIARY_DETAILS_FAIL = 'DIARY_DETAILS_FAIL';\r\n\r\nexport const ADD_NEW_DIARY_REQUEST = 'DIARY_DETAILS_REQUEST';\r\nexport const ADD_NEW_DIARY_SUCCESS = 'DIARY_DETAILS_SUCCESS';\r\nexport const ADD_NEW_DIARY_FAIL = 'DIARY_DETAILS_FAIL';\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\n\r\nexport const USER_ALL_REQUEST = 'USER_ALL_REQUEST';\r\nexport const USER_ALL_SUCCESS = 'USER_ALL_SUCCESS';\r\nexport const USER_ALL_FAIL = 'USER_ALL_FAIL';\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n  diaryListReducer,\r\n  diaryDetailsReducer,\r\n  addNewDiaryReducer,\r\n} from './reducers/diaryReducers';\r\nimport {\r\n  userDetailsReducer,\r\n  userLoginReducer,\r\n  userRegisterReducer,\r\n  usersAllReducer,\r\n  userUpdateProfileReducer,\r\n} from './reducers/userReducers';\r\n\r\nconst reducer = combineReducers({\r\n  diaryList: diaryListReducer,\r\n  diaryDetails: diaryDetailsReducer,\r\n  addNewDiary: addNewDiaryReducer,\r\n  userLogin: userLoginReducer,\r\n  userRegister: userRegisterReducer,\r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n  usersAll: usersAllReducer,\r\n});\r\n\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n  ? JSON.parse(localStorage.getItem('userInfo'))\r\n  : null;\r\n\r\nconst initialState = {\r\n  userLogin: { userInfo: userInfoFromStorage },\r\n};\r\n\r\nconst middleWare = [thunk];\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleWare))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  DIARY_LIST_REQUEST,\r\n  DIARY_LIST_SUCCESS,\r\n  DIARY_LIST_FAIL,\r\n  DIARY_DETAILS_REQUEST,\r\n  DIARY_DETAILS_SUCCESS,\r\n  DIARY_DETAILS_FAIL,\r\n  ADD_NEW_DIARY_REQUEST,\r\n  ADD_NEW_DIARY_SUCCESS,\r\n  ADD_NEW_DIARY_FAIL,\r\n} from '../constants/diaryConstants';\r\n\r\nexport const diaryListReducer = (state = { diaries: [] }, action) => {\r\n  switch (action.type) {\r\n    case DIARY_LIST_REQUEST:\r\n      return { loading: true, diaries: [] };\r\n    case DIARY_LIST_SUCCESS:\r\n      return { loading: false, diaries: action.payload };\r\n    case DIARY_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const diaryDetailsReducer = (state = { diary: [] }, action) => {\r\n  switch (action.type) {\r\n    case DIARY_DETAILS_REQUEST:\r\n      return { loading: true, ...state };\r\n    case DIARY_DETAILS_SUCCESS:\r\n      return { loading: false, diary: action.payload };\r\n    case DIARY_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addNewDiaryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ADD_NEW_DIARY_REQUEST:\r\n      return { loading: true };\r\n    case ADD_NEW_DIARY_SUCCESS:\r\n      return { loading: false, diaryInfo: action.payload };\r\n    case ADD_NEW_DIARY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_ALL_REQUEST,\r\n  USER_ALL_SUCCESS,\r\n  USER_ALL_FAIL,\r\n} from '../constants/userConstants';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_LOGIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_LOGIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_LOGIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n  switch (action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { ...state, loading: true };\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_PROFILE_REQUEST:\r\n      return { ...state, loading: true };\r\n    case USER_UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, success: true, userInfo: action.payload };\r\n    case USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const usersAllReducer = (state = { user: {} }, action) => {\r\n  switch (action.type) {\r\n    case USER_ALL_REQUEST:\r\n      return { ...state, loading: true };\r\n    case USER_ALL_SUCCESS:\r\n      return { loading: false, success: true, usersInfo: action.payload };\r\n    case USER_ALL_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_ALL_REQUEST,\r\n  USER_ALL_SUCCESS,\r\n  USER_ALL_FAIL,\r\n} from '../constants/userConstants';\r\nimport axios from 'axios';\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOGIN_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      '/api/users/login',\r\n      {\r\n        email,\r\n        password,\r\n      },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem('userInfo');\r\n  dispatch({\r\n    type: USER_LOGOUT,\r\n  });\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_REGISTER_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      '/api/users',\r\n      {\r\n        name,\r\n        email,\r\n        password,\r\n      },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: USER_REGISTER_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// export const getUserDetails = (id) => async (dispatch, getState) => {\r\n//   try {\r\n//     dispatch({\r\n//       type: USER_DETAILS_REQUEST,\r\n//     });\r\n\r\n//     const {\r\n//       userLogin: { userInfo },\r\n//     } = getState();\r\n\r\n//     const config = {\r\n//       headers: {\r\n//         'Content-Type': 'application/json',\r\n//         Authorization: `Bearer ${userInfo.token}`,\r\n//       },\r\n//     };\r\n\r\n//     const { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n//     dispatch({\r\n//       type: USER_DETAILS_SUCCESS,\r\n//       payload: data,\r\n//     });\r\n//   } catch (error) {\r\n//     dispatch({\r\n//       type: USER_DETAILS_FAIL,\r\n//       payload:\r\n//         error.response && error.response.data.message\r\n//           ? error.response.data.message\r\n//           : error.message,\r\n//     });\r\n//   }\r\n// };\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_DETAILS_REQUEST,\r\n    });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n    dispatch({\r\n      type: USER_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_REQUEST,\r\n    });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(`/api/users/profile`, user, config);\r\n\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_SUCCESS,\r\n      payload: data,\r\n    });\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout());\r\n    }\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsersAll = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_ALL_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/users`, config);\r\n\r\n    dispatch({\r\n      type: USER_ALL_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n\r\n    dispatch({\r\n      type: USER_ALL_FAIL,\r\n      payload: message,\r\n    });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { logout } from '../actions/userActions';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n        <Container>\r\n          <LinkContainer to='/'>\r\n            <Navbar.Brand>DIARY</Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n          <Navbar.Collapse id='basic-navbar-nav'>\r\n            <Nav className='ml-auto'>\r\n              {userInfo ? (\r\n                <Container>\r\n                  <Nav.Link href='/new'>\r\n                    <i class='fas fa-plus'></i> New diary\r\n                  </Nav.Link>\r\n                  <NavDropdown title={userInfo.name} id='username'>\r\n                    <LinkContainer to='/profile'>\r\n                      <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <NavDropdown.Item onClick={logoutHandler}>\r\n                      Logout\r\n                    </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                </Container>\r\n              ) : (\r\n                <LinkContainer to='/login'>\r\n                  <Nav.Link>\r\n                    <i className='fas fa-user'></i> Sign In\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <Container>\r\n        <Row>\r\n          <Col className='text-center py-3'>&copy; Diary</Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst Diary = ({ diary, usersInfo }) => {\r\n  let _content =\r\n    diary.content.length > 100\r\n      ? diary.content.substr(0, 100) + ' ...'\r\n      : diary.content;\r\n\r\n  let author =\r\n    diary && usersInfo\r\n      ? usersInfo.filter((user) => user._id === diary.user)[0].name\r\n      : '';\r\n\r\n  let time = diary ? diary.createdAt.split('T')[0] : '';\r\n\r\n  return (\r\n    <Card className='my-3 p-3 rounded hover'>\r\n      <Link className='text-decoration-none' to={`/diary/${diary._id}`}>\r\n        <Card.Body>\r\n          <Card.Title>{diary.title}</Card.Title>\r\n          <Card.Subtitle className='mb-2 text-muted'>\r\n            by <span className='font-italic'>@{author}</span> at {time}\r\n          </Card.Subtitle>\r\n          <Card.Text>{_content}</Card.Text>\r\n        </Card.Body>\r\n      </Link>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // console.log(state.usersAll.usersInfo);\r\n  return { usersInfo: state.usersAll.usersInfo };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Diary);\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <>\r\n      <Spinner\r\n        animation='border'\r\n        role='status'\r\n        style={{\r\n          width: '100px',\r\n          height: '100px',\r\n          margin: 'auto',\r\n          display: 'block',\r\n        }}\r\n      >\r\n        <span className='sr-only'>Loading...</span>\r\n      </Spinner>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Diary from '../components/Diary';\r\nimport Loader from '../components/Loader';\r\nimport { listDiaries } from '../actions/diaryActions';\r\nimport { getUsersAll } from '../actions/userActions';\r\n\r\nconst Homescreen = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const diaryList = useSelector((state) => state.diaryList);\r\n  const { loading, error, diaries } = diaryList;\r\n\r\n  // Reverse for displaying latest diaries\r\n  diaries.reverse();\r\n\r\n  useEffect(() => {\r\n    dispatch(listDiaries());\r\n    dispatch(getUsersAll());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className='text-center'>Have a good time! :)</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <h2 className='text-danger'>{error}</h2>\r\n      ) : (\r\n        <Row>\r\n          {diaries.map((diary) => (\r\n            <Col key={diary._id} sm={12} md={6} lg={4} xl={3}>\r\n              <Diary diary={diary} />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Homescreen;\r\n","import {\r\n  DIARY_LIST_REQUEST,\r\n  DIARY_LIST_SUCCESS,\r\n  DIARY_LIST_FAIL,\r\n  DIARY_DETAILS_REQUEST,\r\n  DIARY_DETAILS_SUCCESS,\r\n  DIARY_DETAILS_FAIL,\r\n  ADD_NEW_DIARY_REQUEST,\r\n  ADD_NEW_DIARY_SUCCESS,\r\n  ADD_NEW_DIARY_FAIL,\r\n} from '../constants/diaryConstants';\r\nimport axios from 'axios';\r\n\r\nexport const listDiaries = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DIARY_LIST_REQUEST });\r\n\r\n    const { data } = await axios.get('/api/diaries');\r\n\r\n    dispatch({\r\n      type: DIARY_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    console.log('debug');\r\n    console.log(error.response);\r\n    dispatch({\r\n      type: DIARY_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listDiaryDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DIARY_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(`/api/diaries/${id}`);\r\n\r\n    dispatch({\r\n      type: DIARY_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DIARY_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addNewDiary = (title, content) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ADD_NEW_DIARY_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      '/api/diaries/new',\r\n      {\r\n        title,\r\n        content,\r\n      },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: ADD_NEW_DIARY_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ADD_NEW_DIARY_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { listDiaryDetails } from '../actions/diaryActions';\r\nimport { getUsersAll } from '../actions/userActions';\r\nimport Loader from '../components/Loader';\r\n\r\nconst DiaryScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const diaryDetails = useSelector((state) => state.diaryDetails);\r\n  const { loading, error, diary } = diaryDetails;\r\n\r\n  const usersAll = useSelector((state) => state.usersAll);\r\n  const errorUsersAll = usersAll.error;\r\n  const { usersInfo } = usersAll;\r\n\r\n  let author =\r\n    usersInfo && diary\r\n      ? usersInfo.filter((user) => user._id === diary.user)[0]\r\n      : '';\r\n\r\n  author = author ? author.name : '';\r\n\r\n  let time = diary\r\n    ? diary.createdAt\r\n      ? diary.createdAt.split('T')[0]\r\n      : ''\r\n    : '';\r\n\r\n  useEffect(() => {\r\n    dispatch(listDiaryDetails(match.params.id));\r\n    dispatch(getUsersAll());\r\n  }, [dispatch, match]);\r\n\r\n  return (\r\n    <>\r\n      <Link className='btn btn-light my-3' to='/'>\r\n        <i class='fas fa-arrow-left'></i> Go Back\r\n      </Link>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <h2 className='text-danger'>{error}</h2>\r\n      ) : (\r\n        <Row className='justify-content-center'>\r\n          <Col xs='8'>\r\n            <h1>{diary.title}</h1>\r\n            <div>\r\n              {errorUsersAll ? (\r\n                <h2 className='text-danger'>{error}</h2>\r\n              ) : (\r\n                <p className='font-italic'>\r\n                  <i className='fas fa-user-edit'></i> {author}\r\n                </p>\r\n              )}\r\n              <p>\r\n                <i class='far fa-clock'></i> {time}\r\n              </p>\r\n            </div>\r\n            <p className='text-justify'>{diary.content}</p>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DiaryScreen;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <Row className='justify-content-md-center'>\r\n        <Col xs={12} sm={6}>\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { login } from '../actions/userActions';\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading, error, userInfo } = userLogin;\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n  // Redirect if user is already logged in\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [history, userInfo, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // DISPATCH LOGIN\r\n    dispatch(login(email, password));\r\n  };\r\n\r\n  // console.log(typeof error);\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Sign In</h1>\r\n      <h2 className='text-danger'>{error && error}</h2>\r\n      {loading && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email Address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Sign In\r\n        </Button>\r\n      </Form>\r\n\r\n      <Row className='py-3'>\r\n        <Col>\r\n          Don't have an account?{' '}\r\n          <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n            Register\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { register } from '../actions/userActions';\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { loading, error, userInfo } = userRegister;\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n  // Redirect if user is already logged in\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [history, userInfo, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      setMessage('Passwords do not match!');\r\n    } else {\r\n      // DISPATCH REGISTER\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n\r\n  // console.log(typeof error);\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Sign Up</h1>\r\n      <h2 className='text-danger'>{message && message}</h2>\r\n      <h2 className='text-danger'>{error && error}</h2>\r\n      {loading && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email Address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='confirmPassword'>\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter confirm password'\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Register\r\n        </Button>\r\n      </Form>\r\n\r\n      <Row className='py-3'>\r\n        <Col>\r\n          Have an account?{' '}\r\n          <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n            Login\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../components/Loader';\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions';\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n  const { success } = userUpdateProfile;\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      history.push('/login');\r\n    } else {\r\n      if (!user.name) {\r\n        dispatch(getUserDetails('profile'));\r\n      } else {\r\n        setName(user.name);\r\n        setEmail(user.email);\r\n      }\r\n    }\r\n  }, [dispatch, history, userInfo, user]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      setMessage('Passwords do not match!');\r\n    } else {\r\n      // DISPATCH UPDATE\r\n      dispatch(updateUserProfile({ id: user._id, name, email, password }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h2>User Profile</h2>\r\n      <h2 className='text-danger'>{message && message}</h2>\r\n      <h2 className='text-danger'>{error && error}</h2>\r\n      <h2 className='text-white border bg-success text-center'>\r\n        {success && 'Profile updated!'}\r\n      </h2>\r\n      {loading && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email Address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='confirmPassword'>\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter confirm password'\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Update\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { addNewDiary as addDiaryAction } from '../actions/diaryActions';\r\nimport { getUserDetails } from '../actions/userActions';\r\n\r\nconst NewDiaryScreen = ({ location, history }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const loadingUserDetails = userDetails.loading;\r\n  const errorUserDetails = userDetails.error;\r\n  const { user } = userDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const addNewDiary = useSelector((state) => state.addNewDiary);\r\n  const loadingAddDiary = addNewDiary.loading;\r\n  const errorAddDiary = addNewDiary.error;\r\n  const { diaryInfo } = addNewDiary;\r\n\r\n  const redirect = location.search\r\n    ? location.search.split('=')[1]\r\n    : diaryInfo\r\n    ? `/diary/${diaryInfo._id}`\r\n    : '/';\r\n\r\n  useEffect(() => {\r\n    if (diaryInfo) {\r\n      history.push(redirect);\r\n    } else {\r\n      if (!userInfo) {\r\n        history.push('/login');\r\n      } else {\r\n        if (!user.name) {\r\n          dispatch(getUserDetails('profile'));\r\n        }\r\n      }\r\n    }\r\n  }, [dispatch, history, userInfo, user, diaryInfo, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    // DISPATCH ADD NEW DIARY\r\n    dispatch(addDiaryAction(title, content));\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h2 className='text-danger'>{errorUserDetails && errorUserDetails}</h2>\r\n      <h1>Create New Diary</h1>\r\n      <h2 className='text-danger'>{errorAddDiary && errorAddDiary}</h2>\r\n      {loadingAddDiary && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='title'>\r\n          <Form.Label>Title</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter title'\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='content'>\r\n          <Form.Label>Content</Form.Label>\r\n          <Form.Control\r\n            as='textarea'\r\n            rows={15}\r\n            placeholder='Enter content'\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Create\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default NewDiaryScreen;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport HomeScreen from './screens/HomeScreen';\nimport DiaryScreen from './screens/DiaryScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport RegisterScreen from './screens/RegisterScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport NewDiaryScreen from './screens/NewDiaryScreen';\n\nconst App = () => {\n  return (\n    <Router>\n      <Header />\n      <main className='py-3'>\n        <Container>\n          <Route path='/' component={HomeScreen} exact />\n          <Route path='/register' component={RegisterScreen} exact />\n          <Route path='/profile' component={ProfileScreen} exact />\n          <Route path='/login' component={LoginScreen} exact />\n          <Route path='/diary/:id' component={DiaryScreen} exact />\n          <Route path='/new' component={NewDiaryScreen} exact />\n        </Container>\n      </main>\n      <Footer />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}